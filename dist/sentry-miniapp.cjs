"use strict";var t=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,a=(t,e)=>{for(var n in e||(e={}))r.call(e,n)&&o(t,n,e[n]);if(s)for(var n of s(e))i.call(e,n)&&o(t,n,e[n]);return t},c=(t,s)=>e(t,n(s));Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||{};class l{constructor(t){if(this._entries=[],t)if("string"!=typeof t)Array.isArray(t)?t.forEach((([t,e])=>this.append(t,e))):Object.keys(t).forEach((e=>{const n=t[e];null!=n&&this.append(e,String(n))}));else{const e=t.startsWith("?")?t.slice(1):t;e.length>0&&e.split("&").forEach((t=>{if(!t)return;const[e,n=""]=t.split("=");this.append(decodeURIComponent(e),decodeURIComponent(n))}))}}append(t,e){this._entries.push([t,e])}toString(){return this._entries.map((([t,e])=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)).join("&")}}u.URLSearchParams||(u.URLSearchParams=l);const p="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,d="8.55.0",h=globalThis;function f(t,e,n){const s=n||h,r=s.__SENTRY__=s.__SENTRY__||{},i=r[d]=r[d]||{};return i[t]||(i[t]=e())}const m="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,g=["debug","info","warn","error","log","assert","trace"],_={};function y(t){if(!("console"in h))return t();const e=h.console,n={},s=Object.keys(_);s.forEach((t=>{const s=_[t];n[t]=e[t],e[t]=s}));try{return t()}finally{s.forEach((t=>{e[t]=n[t]}))}}const v=f("logger",(function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return m?g.forEach((n=>{e[n]=(...e)=>{t&&y((()=>{h.console[n](`Sentry Logger [${n}]:`,...e)}))}})):g.forEach((t=>{e[t]=()=>{}})),e})),b="<anonymous>";function S(){return E(h),h}function E(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||d,e[d]=e[d]||{}}const x=Object.prototype.toString;function w(t){switch(x.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return N(t,Error)}}function T(t,e){return x.call(t)===`[object ${e}]`}function k(t){return T(t,"String")}function I(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function O(t){return T(t,"Object")}function C(t){return"undefined"!=typeof Event&&N(t,Event)}function P(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function N(t,e){try{return t instanceof e}catch(n){return!1}}const j=h;function R(t,e){const n=t,s=[];if(!n||!n.tagName)return"";if(j.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}s.push(n.tagName.toLowerCase());const r=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(r&&r.length)r.forEach((t=>{s.push(`[${t[0]}="${t[1]}"]`)}));else{n.id&&s.push(`#${n.id}`);const t=n.className;if(t&&k(t)){const e=t.split(/\s+/);for(const t of e)s.push(`.${t}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const t=n.getAttribute(o);t&&s.push(`[${o}="${t}"]`)}return s.join("")}function $(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function D(t,e,n=!1){return!!k(t)&&(T(e,"RegExp")?e.test(t):!!k(e)&&(n?t===e:t.includes(e)))}function M(t,e=[],n=!1){return e.some((e=>D(t,e,n)))}function A(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(s){m&&v.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function L(t){if(w(t))return a({message:t.message,name:t.name,stack:t.stack},H(t));if(C(t)){const e=a({type:t.type,target:U(t.target),currentTarget:U(t.currentTarget)},H(t));return"undefined"!=typeof CustomEvent&&N(t,CustomEvent)&&(e.detail=t.detail),e}return t}function U(t){try{return e=t,"undefined"!=typeof Element&&N(e,Element)?function(t,e={}){if(!t)return"<unknown>";try{let n=t;const s=5,r=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,p=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&i++<s&&(u=R(n,l),!("html"===u||i>1&&o+r.length*c+u.length>=p));)r.push(u),o+=u.length,n=n.parentNode;return r.reverse().join(a)}catch(n){return"<unknown>"}}(t):Object.prototype.toString.call(t)}catch(n){return"<unknown>"}var e}function H(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function F(t){return G(t,new Map)}function G(t,e){if(function(t){if(!O(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||"Object"===e}catch(e){return!0}}(t)){const n=e.get(t);if(void 0!==n)return n;const s={};e.set(t,s);for(const r of Object.getOwnPropertyNames(t))void 0!==t[r]&&(s[r]=G(t[r],e));return s}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const s=[];return e.set(t,s),t.forEach((t=>{s.push(G(t,e))})),s}return t}function q(){return Date.now()/1e3}const B=function(){const{performance:t}=h;if(!t||!t.now)return q;const e=Date.now()-t.now(),n=null==t.timeOrigin?e:t.timeOrigin;return()=>(n+t.now())/1e3}();function W(){const t=h,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(s){}return"10000000100040008000100000000000".replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}function J(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function z(t){const{message:e,event_id:n}=t;if(e)return e;const s=J(t);return s?s.type&&s.value?`${s.type}: ${s.value}`:s.type||s.value||n||"<unknown>":n||"<unknown>"}function K(t,e){const n=J(t);if(!n)return;const s=n.mechanism;if(n.mechanism=a(a(a({},{type:"generic",handled:!0}),s),e),e&&"data"in e){const t=a(a({},s&&s.data),e.data);n.mechanism.data=t}}function Y(t){if(function(t){try{return t.__sentry_captured__}catch(e){}}(t))return!0;try{A(t,"__sentry_captured__",!0)}catch(e){}return!1}var V;function X(t){return new Z((e=>{e(t)}))}function Q(t){return new Z(((e,n)=>{n(t)}))}(()=>{const{performance:t}=h;if(!t||!t.now)return;const e=36e5,n=t.now(),s=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+n-s):e,i=r<e,o=t.timing&&t.timing.navigationStart,a="number"==typeof o?Math.abs(o+n-s):e;(i||a<e)&&(r<=a&&t.timeOrigin)})(),function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(V||(V={}));let Z=class t{constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=V.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new t(((t,s)=>{this._handlers.push([!1,n=>{if(e)try{t(e(n))}catch(r){s(r)}else t(n)},e=>{if(n)try{t(n(e))}catch(r){s(r)}else s(e)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(e){return new t(((t,n)=>{let s,r;return this.then((t=>{r=!1,s=t,e&&e()}),(t=>{r=!0,s=t,e&&e()})).then((()=>{r?n(s):t(s)}))}))}__init(){this._resolve=t=>{this._setResult(V.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(V.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{this._state===V.PENDING&&(P(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===V.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===V.RESOLVED&&t[1](this._value),this._state===V.REJECTED&&t[2](this._value),t[0]=!0)}))}}};function et(t){const e=B(),n={sid:W(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return F({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(n)};return t&&nt(n,t),n}function nt(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||B(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:W()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function st(){return W()}function rt(){return W().substring(16)}function it(t,e,n=2){if(!e||"object"!=typeof e||n<=0)return e;if(t&&e&&0===Object.keys(e).length)return t;const s=a({},t);for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=it(s[r],e[r],n-1));return s}const ot="_sentrySpan";function at(t,e){e?A(t,ot,e):delete t[ot]}function ct(t){return t[ot]}class ut{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:st(),spanId:rt()}}clone(){const t=new ut;return t._breadcrumbs=[...this._breadcrumbs],t._tags=a({},this._tags),t._extra=a({},this._extra),t._contexts=a({},this._contexts),this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=a({},this._sdkProcessingMetadata),t._propagationContext=a({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,at(t,ct(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&nt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=a(a({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,e){return this._tags=c(a({},this._tags),{[t]:e}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=a(a({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,e){return this._extra=c(a({},this._extra),{[t]:e}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t,[n,s]=e instanceof lt?[e.getScopeData(),e.getRequestSession()]:O(e)?[t,t.requestSession]:[],{tags:r,extra:i,user:o,contexts:c,level:u,fingerprint:l=[],propagationContext:p}=n||{};return this._tags=a(a({},this._tags),r),this._extra=a(a({},this._extra),i),this._contexts=a(a({},this._contexts),c),o&&Object.keys(o).length&&(this._user=o),u&&(this._level=u),l.length&&(this._fingerprint=l),p&&(this._propagationContext=p),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,at(this,void 0),this._attachments=[],this.setPropagationContext({traceId:st()}),this._notifyScopeListeners(),this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const s=a({timestamp:q()},t);return this._breadcrumbs.push(s),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ct(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=it(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=a({spanId:rt()},t),this}getPropagationContext(){return this._propagationContext}captureException(t,e){const n=e&&e.event_id?e.event_id:W();if(!this._client)return v.warn("No client configured on scope - will not capture exception!"),n;const s=new Error("Sentry syntheticException");return this._client.captureException(t,c(a({originalException:t,syntheticException:s},e),{event_id:n}),this),n}captureMessage(t,e,n){const s=n&&n.event_id?n.event_id:W();if(!this._client)return v.warn("No client configured on scope - will not capture message!"),s;const r=new Error(t);return this._client.captureMessage(t,e,c(a({originalException:t,syntheticException:r},n),{event_id:s}),this),s}captureEvent(t,e){const n=e&&e.event_id?e.event_id:W();return this._client?(this._client.captureEvent(t,c(a({},e),{event_id:n}),this),n):(v.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}}const lt=ut;class pt{constructor(t,e){let n,s;n=t||new lt,s=e||new lt,this._stack=[{scope:n}],this._isolationScope=s}withScope(t){const e=this._pushScope();let n;try{n=t(e)}catch(s){throw this._popScope(),s}return P(n)?n.then((t=>(this._popScope(),t)),(t=>{throw this._popScope(),t})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function dt(){const t=E(S());return t.stack=t.stack||new pt(f("defaultCurrentScope",(()=>new lt)),f("defaultIsolationScope",(()=>new lt)))}function ht(t){return dt().withScope(t)}function ft(t,e){const n=dt();return n.withScope((()=>(n.getStackTop().scope=t,e(t))))}function mt(t){return dt().withScope((()=>t(dt().getIsolationScope())))}function gt(t){const e=E(t);return e.acs?e.acs:{withIsolationScope:mt,withScope:ht,withSetScope:ft,withSetIsolationScope:(t,e)=>mt(e),getCurrentScope:()=>dt().getScope(),getIsolationScope:()=>dt().getIsolationScope()}}function _t(){return gt(S()).getCurrentScope()}function yt(){return gt(S()).getIsolationScope()}function vt(...t){const e=gt(S());if(2===t.length){const[n,s]=t;return n?e.withSetScope(n,s):e.withScope(s)}return e.withScope(t[0])}function bt(){return _t().getClient()}function St(t){const e=t.getPropagationContext(),{traceId:n,spanId:s,parentSpanId:r}=e;return F({trace_id:n,span_id:s,parent_span_id:r})}function Et(t){const e=t._sentryMetrics;if(!e)return;const n={};for(const[,[s,r]]of e){(n[s]||(n[s]=[])).push(F(r))}return n}const xt=/^sentry-/;function wt(t){const e=function(t){if(!t||!k(t)&&!Array.isArray(t))return;if(Array.isArray(t))return t.reduce(((t,e)=>{const n=Tt(e);return Object.entries(n).forEach((([e,n])=>{t[e]=n})),t}),{});return Tt(t)}(t);if(!e)return;const n=Object.entries(e).reduce(((t,[e,n])=>{if(e.match(xt)){t[e.slice(7)]=n}return t}),{});return Object.keys(n).length>0?n:void 0}function Tt(t){return t.split(",").map((t=>t.split("=").map((t=>decodeURIComponent(t.trim()))))).reduce(((t,[e,n])=>(e&&n&&(t[e]=n),t)),{})}let kt=!1;function It(t){const{spanId:e,traceId:n,isRemote:s}=t.spanContext();return F({parent_span_id:s?e:Pt(t).parent_span_id,span_id:s?rt():e,trace_id:n})}function Ot(t){return"number"==typeof t?Ct(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Ct(t.getTime()):B()}function Ct(t){return t>9999999999?t/1e3:t}function Pt(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(function(t){const e=t;return!!(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status)}(t)){const{attributes:s,startTime:r,name:i,endTime:o,parentSpanId:a,status:c}=t;return F({span_id:e,trace_id:n,data:s,description:i,parent_span_id:a,start_timestamp:Ot(r),timestamp:Ot(o)||void 0,status:Nt(c),op:s["sentry.op"],origin:s["sentry.origin"],_metrics_summary:Et(t)})}return{span_id:e,trace_id:n}}catch(e){return{}}}function Nt(t){if(t&&0!==t.code)return 1===t.code?"ok":t.message||"unknown_error"}function jt(t){return t._sentryRootSpan||t}function Rt(){kt||(y((()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")})),kt=!0)}const $t="production";function Dt(t,e){const n=e.getOptions(),{publicKey:s}=e.getDsn()||{},r=F({environment:n.environment||$t,release:n.release,public_key:s,trace_id:t});return e.emit("createDsc",r),r}function Mt(t){const e=bt();if(!e)return{};const n=jt(t),s=n._frozenDsc;if(s)return s;const r=n.spanContext().traceState,i=r&&r.get("sentry.dsc"),o=i&&wt(i);if(o)return o;const a=Dt(t.spanContext().traceId,e),c=Pt(n),u=c.data||{},l=u["sentry.sample_rate"];null!=l&&(a.sample_rate=`${l}`);const p=u["sentry.source"],d=c.description;return"url"!==p&&d&&(a.transaction=d),function(){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=bt(),e=t&&t.getOptions();return!!e&&(e.enableTracing||"tracesSampleRate"in e||"tracesSampler"in e)}()&&(a.sampled=String(function(t){const{traceFlags:e}=t.spanContext();return 1===e}(n))),e.emit("createDsc",a,n),a}const At=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Lt(t,e=!1){const{host:n,path:s,pass:r,port:i,projectId:o,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&r?`:${r}`:""}@${n}${i?`:${i}`:""}/${s?`${s}/`:s}${o}`}function Ut(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Ht(t){const e="string"==typeof t?function(t){const e=At.exec(t);if(!e)return void y((()=>{console.error(`Invalid Sentry Dsn: ${t}`)}));const[n,s,r="",i="",o="",a=""]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return Ut({host:i,pass:r,path:c,projectId:u,port:o,protocol:n,publicKey:s})}(t):Ut(t);if(e&&function(t){if(!m)return!0;const{port:e,projectId:n,protocol:s}=t;return!(["protocol","publicKey","host","projectId"].find((e=>!t[e]&&(v.error(`Invalid Sentry Dsn: ${e} missing`),!0)))||(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(s)?e&&isNaN(parseInt(e,10))&&(v.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(v.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):(v.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(e))return e}function Ft(t,e=100,n=1/0){try{return Gt("",t,e,n)}catch(s){return{ERROR:`**non-serializable** (${s})`}}}function Gt(t,e,n=1/0,s=1/0,r=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}()){const[i,o]=r;if(null==e||["boolean","string"].includes(typeof e)||"number"==typeof e&&Number.isFinite(e))return e;const a=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if("object"==typeof(n=e)&&null!==n&&(n.__isVue||n._isVue))return"[VueViewModel]";if(function(t){return O(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}(e))return"[SyntheticEvent]";if("number"==typeof e&&!Number.isFinite(e))return`[${e}]`;if("function"==typeof e)return`[Function: ${function(t){try{return t&&"function"==typeof t&&t.name||b}catch(e){return b}}(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const s=function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(s)?`[HTMLElement: ${s}]`:`[object ${s}]`}catch(s){return`**non-serializable** (${s})`}var n}(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:n;if(0===c)return a.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&"function"==typeof u.toJSON)try{return Gt("",u.toJSON(),c-1,s,r)}catch(h){}const l=Array.isArray(e)?[]:{};let p=0;const d=L(e);for(const f in d){if(!Object.prototype.hasOwnProperty.call(d,f))continue;if(p>=s){l[f]="[MaxProperties ~]";break}const t=d[f];l[f]=Gt(f,t,c-1,s,r),p++}return o(e),l}function qt(t,e=[]){return[t,e]}function Bt(t,e){const[n,s]=t;return[n,[...s,e]]}function Wt(t,e){const n=t[1];for(const s of n){if(e(s,s[0].type))return!0}return!1}function Jt(t){return h.__SENTRY__&&h.__SENTRY__.encodePolyfill?h.__SENTRY__.encodePolyfill(t):(new TextEncoder).encode(t)}function zt(t){const[e,n]=t;let s=JSON.stringify(e);function r(t){"string"==typeof s?s="string"==typeof t?s+t:[Jt(s),t]:s.push("string"==typeof t?Jt(t):t)}for(const o of n){const[t,e]=o;if(r(`\n${JSON.stringify(t)}\n`),"string"==typeof e||e instanceof Uint8Array)r(e);else{let t;try{t=JSON.stringify(e)}catch(i){t=JSON.stringify(Ft(e))}r(t)}}return"string"==typeof s?s:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let s=0;for(const r of t)n.set(r,s),s+=r.length;return n}(s)}function Kt(t){const e="string"==typeof t.data?Jt(t.data):t.data;return[F({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const Yt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Vt(t){return Yt[t]}function Xt(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function Qt(t,e,n,s){const r=Xt(n),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const o=function(t,e,n,s){const r=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return a(a(a({event_id:t.event_id,sent_at:(new Date).toISOString()},e&&{sdk:e}),!!n&&s&&{dsn:Lt(s)}),r&&{trace:F(a({},r))})}(t,r,s,e);delete t.sdkProcessingMetadata;return qt(o,[[{type:i},t]])}function Zt(t,e,n,s=0){return new Z(((r,i)=>{const o=t[s];if(null===e||"function"!=typeof o)r(e);else{const c=o(a({},e),n);p&&o.id&&null===c&&v.log(`Event processor "${o.id}" dropped event`),P(c)?c.then((e=>Zt(t,e,n,s+1).then(r))).then(null,i):Zt(t,c,n,s+1).then(r).then(null,i)}}))}let te,ee,ne;function se(t,e){const{fingerprint:n,span:s,breadcrumbs:r,sdkProcessingMetadata:i}=e;!function(t,e){const{extra:n,tags:s,user:r,contexts:i,level:o,transactionName:c}=e,u=F(n);u&&Object.keys(u).length&&(t.extra=a(a({},u),t.extra));const l=F(s);l&&Object.keys(l).length&&(t.tags=a(a({},l),t.tags));const p=F(r);p&&Object.keys(p).length&&(t.user=a(a({},p),t.user));const d=F(i);d&&Object.keys(d).length&&(t.contexts=a(a({},d),t.contexts));o&&(t.level=o);c&&"transaction"!==t.type&&(t.transaction=c)}(t,e),s&&function(t,e){t.contexts=a({trace:It(e)},t.contexts),t.sdkProcessingMetadata=a({dynamicSamplingContext:Mt(e)},t.sdkProcessingMetadata);const n=jt(e),s=Pt(n).description;s&&!t.transaction&&"transaction"===t.type&&(t.transaction=s)}(t,s),function(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,r),function(t,e){t.sdkProcessingMetadata=a(a({},t.sdkProcessingMetadata),e)}(t,i)}function re(t,e){const{extra:n,tags:s,user:r,contexts:i,level:o,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:l,eventProcessors:p,attachments:d,propagationContext:h,transactionName:f,span:m}=e;ie(t,"extra",n),ie(t,"tags",s),ie(t,"user",r),ie(t,"contexts",i),t.sdkProcessingMetadata=it(t.sdkProcessingMetadata,c,2),o&&(t.level=o),f&&(t.transactionName=f),m&&(t.span=m),u.length&&(t.breadcrumbs=[...t.breadcrumbs,...u]),l.length&&(t.fingerprint=[...t.fingerprint,...l]),p.length&&(t.eventProcessors=[...t.eventProcessors,...p]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext=a(a({},t.propagationContext),h)}function ie(t,e,n){t[e]=it(t[e],n,1)}function oe(t,e,n,s,r,i){const{normalizeDepth:o=3,normalizeMaxBreadth:u=1e3}=t,l=c(a({},e),{event_id:e.event_id||n.event_id||W(),timestamp:e.timestamp||q()}),p=n.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:s,dist:r,maxValueLength:i=250}=e;t.environment=t.environment||n||$t,!t.release&&s&&(t.release=s);!t.dist&&r&&(t.dist=r);t.message&&(t.message=$(t.message,i));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=$(o.value,i));const a=t.request;a&&a.url&&(a.url=$(a.url,i))}(l,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(l,p),r&&r.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){const n=function(t){const e=h._sentryDebugIds;if(!e)return{};const n=Object.keys(e);return ne&&n.length===ee||(ee=n.length,ne=n.reduce(((n,s)=>{te||(te={});const r=te[s];if(r)n[r[0]]=r[1];else{const r=t(s);for(let t=r.length-1;t>=0;t--){const i=r[t],o=i&&i.filename,a=e[s];if(o&&a){n[o]=a,te[s]=[o,a];break}}}return n}),{})),ne}(e);try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{n&&t.filename&&(t.debug_id=n[t.filename])}))}))}catch(s){}}(l,t.stackParser);const d=function(t,e){if(!e)return t;const n=t?t.clone():new lt;return n.update(e),n}(s,n.captureContext);n.mechanism&&K(l,n.mechanism);const m=r?r.getEventProcessors():[],g=f("globalScope",(()=>new lt)).getScopeData();if(i){re(g,i.getScopeData())}if(d){re(g,d.getScopeData())}const _=[...n.attachments||[],...g.attachments];_.length&&(n.attachments=_),se(l,g);return Zt([...m,...g.eventProcessors],l,n).then((t=>(t&&function(t){const e={};try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)}))}))}catch(s){}if(0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach((([t,e])=>{n.push({type:"sourcemap",code_file:t,debug_id:e})}))}(t),"number"==typeof o&&o>0?function(t,e,n){if(!t)return null;const s=a(a(a(a(a({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>a(a({},t),t.data&&{data:Ft(t.data,e,n)})))}),t.user&&{user:Ft(t.user,e,n)}),t.contexts&&{contexts:Ft(t.contexts,e,n)}),t.extra&&{extra:Ft(t.extra,e,n)});t.contexts&&t.contexts.trace&&s.contexts&&(s.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(s.contexts.trace.data=Ft(t.contexts.trace.data,e,n)));t.spans&&(s.spans=t.spans.map((t=>a(a({},t),t.data&&{data:Ft(t.data,e,n)}))));t.contexts&&t.contexts.flags&&s.contexts&&(s.contexts.flags=Ft(t.contexts.flags,3,n));return s}(t,o,u):t)))}function ae(t){if(t)return function(t){return t instanceof lt||"function"==typeof t}(t)||function(t){return Object.keys(t).some((t=>ce.includes(t)))}(t)?{captureContext:t}:t}const ce=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function ue(t,e){return _t().captureException(t,ae(e))}function le(t,e){return _t().captureEvent(t,e)}function pe(t,e){yt().setContext(t,e)}function de(t){yt().setExtras(t)}function he(t,e){yt().setExtra(t,e)}function fe(t){yt().setTags(t)}function me(t,e){yt().setTag(t,e)}function ge(t){yt().setUser(t)}function _e(){return yt().lastEventId()}function ye(t){yt().addEventProcessor(t)}function ve(t){const e=bt(),n=yt(),s=_t(),{release:r,environment:i=$t}=e&&e.getOptions()||{},{userAgent:o}=h.navigator||{},c=et(a(a({release:r,environment:i,user:s.getUser()||n.getUser()},o&&{userAgent:o}),t)),u=n.getSession();return u&&"ok"===u.status&&nt(u,{status:"exited"}),be(),n.setSession(c),s.setSession(c),c}function be(){const t=yt(),e=_t(),n=e.getSession()||t.getSession();n&&function(t){let e={};"ok"===t.status&&(e={status:"exited"}),nt(t,e)}(n),function(){const t=yt(),e=_t(),n=bt(),s=e.getSession()||t.getSession();s&&n&&n.captureSession(s)}(),t.setSession(),e.setSession()}function Se(t,e,n){return e||`${function(t){return`${function(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){const n={sentry_version:"7"};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}(t,n)}`}const Ee=[];function xe(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function we(t,e,n){if(n[e.name])p&&v.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,-1===Ee.indexOf(e.name)&&"function"==typeof e.setupOnce&&(e.setupOnce(),Ee.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),"function"==typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",((e,s)=>n(e,s,t)))}if("function"==typeof e.processEvent){const n=e.processEvent.bind(e),s=Object.assign(((e,s)=>n(e,s,t)),{id:e.name});t.addEventProcessor(s)}p&&v.log(`Integration installed: ${e.name}`)}}class Te extends Error{constructor(t,e="warn"){super(t),this.message=t,this.logLevel=e}}const ke="Not capturing exception because it's already been captured.";class Ie{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Ht(t.dsn):p&&v.warn("No DSN provided, client will not send events."),this._dsn){const e=Se(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport(c(a({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:e}))}const e=["enableTracing","tracesSampleRate","tracesSampler"].find((e=>e in t&&null==t[e]));e&&y((()=>{console.warn(`[Sentry] Deprecation warning: \`${e}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)}))}captureException(t,e,n){const s=W();if(Y(t))return p&&v.log(ke),s;const r=a({event_id:s},e);return this._process(this.eventFromException(t,r).then((t=>this._captureEvent(t,r,n)))),r.event_id}captureMessage(t,e,n,s){const r=a({event_id:W()},n),i=I(t)?t:String(t),o=null===(c=t)||I(c)||"object"!=typeof c&&"function"!=typeof c?this.eventFromMessage(i,e,r):this.eventFromException(t,r);var c;return this._process(o.then((t=>this._captureEvent(t,r,s)))),r.event_id}captureEvent(t,e,n){const s=W();if(e&&e.originalException&&Y(e.originalException))return p&&v.log(ke),s;const r=a({event_id:s},e),i=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,r,i||n)),r.event_id}captureSession(t){"string"!=typeof t.release?p&&v.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),nt(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t))))):X(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,this.emit("close"),t)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some((({name:t})=>t.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];we(this,t,this._integrations),e||xe(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=Qt(t,this._dsn,this._options._metadata,this._options.tunnel);for(const r of e.attachments||[])n=Bt(n,Kt(r));const s=this.sendEnvelope(n);s&&s.then((e=>this.emit("afterSendEvent",t,e)),null)}sendSession(t){const e=function(t,e,n,s){const r=Xt(n);return qt(a(a({sent_at:(new Date).toISOString()},r&&{sdk:r}),!!s&&e&&{dsn:Lt(e)}),["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(e)}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const s="number"==typeof n?n:1,r=`${t}:${e}`;p&&v.log(`Recording outcome: "${r}"${s>1?` (${s} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+s}}on(t,e){const n=this._hooks[t]=this._hooks[t]||[];return n.push(e),()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)}}emit(t,...e){const n=this._hooks[t];n&&n.forEach((t=>t(...e)))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,(t=>(p&&v.error("Error while sending envelope:",t),t))):(p&&v.error("Transport disabled"),X({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(t,e){const n={};return e.forEach((e=>{e&&we(t,e,n)})),n}(this,t),xe(this,t)}_updateSessionFromEvent(t,e){let n="fatal"===e.level,s=!1;const r=e.exception&&e.exception.values;if(r){s=!0;for(const t of r){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const i="ok"===t.status;(i&&0===t.errors||i&&n)&&(nt(t,c(a({},n&&{status:"crashed"}),{errors:t.errors||Number(s||n)})),this.captureSession(t))}_isClientDoneProcessing(t){return new Z((e=>{let n=0;const s=setInterval((()=>{0==this._numProcessing?(clearInterval(s),e(!0)):(n+=1,t&&n>=t&&(clearInterval(s),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n=_t(),s=yt()){const r=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i.length>0&&(e.integrations=i),this.emit("preprocessEvent",t,e),t.type||s.setLastEventId(t.event_id||e.event_id),oe(r,t,e,n,this,s).then((t=>{if(null===t)return t;t.contexts=a({trace:St(n)},t.contexts);const e=function(t,e){const n=e.getPropagationContext();return n.dsc||Dt(n.traceId,t)}(this,n);return t.sdkProcessingMetadata=a({dynamicSamplingContext:e},t.sdkProcessingMetadata),t}))}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{p&&(t instanceof Te&&"log"===t.logLevel?v.log(t.message):v.warn(t))}))}_processEvent(t,e,n){const s=this.getOptions(),{sampleRate:r}=s,i=Ce(t),o=Oe(t),u=t.type||"error",l=`before send for type \`${u}\``,d=void 0===r?void 0:function(t){if("boolean"==typeof t)return Number(t);const e="string"==typeof t?parseFloat(t):t;if(!("number"!=typeof e||isNaN(e)||e<0||e>1))return e;p&&v.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`)}(r);if(o&&"number"==typeof d&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Q(new Te(`Discarding event because it's not included in the random sample (sampling rate = ${r})`,"log"));const h="replay_event"===u?"replay":u,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,e,n,f).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",h,t),new Te("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const r=function(t,e,n,s){const{beforeSend:r,beforeSendTransaction:i,beforeSendSpan:o}=e;if(Oe(n)&&r)return r(n,s);if(Ce(n)){if(n.spans&&o){const e=[];for(const s of n.spans){const n=o(s);n?e.push(n):(Rt(),t.recordDroppedEvent("before_send","span"))}n.spans=e}if(i){if(n.spans){const t=n.spans.length;n.sdkProcessingMetadata=c(a({},n.sdkProcessingMetadata),{spanCountBeforeProcessing:t})}return i(n,s)}}return n}(this,s,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(P(t))return t.then((t=>{if(!O(t)&&null!==t)throw new Te(n);return t}),(t=>{throw new Te(`${e} rejected with ${t}`)}));if(!O(t)&&null!==t)throw new Te(n);return t}(r,l)})).then((s=>{if(null===s){if(this.recordDroppedEvent("before_send",h,t),i){const e=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",e)}throw new Te(`${l} returned \`null\`, will not send event.`,"log")}const r=n&&n.getSession();if(!i&&r&&this._updateSessionFromEvent(r,s),i){const t=(s.sdkProcessingMetadata&&s.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(s.spans?s.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}const o=s.transaction_info;if(i&&o&&s.transaction!==t.transaction){const t="custom";s.transaction_info=c(a({},o),{source:t})}return this.sendEvent(s,e),s})).then(null,(t=>{if(t instanceof Te)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new Te(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map((([t,e])=>{const[n,s]=t.split(":");return{reason:n,category:s,quantity:e}}))}_flushOutcomes(){p&&v.log("Flushing outcomes...");const t=this._clearOutcomes();if(0===t.length)return void(p&&v.log("No outcomes to send"));if(!this._dsn)return void(p&&v.log("No dsn provided, will not send outcomes"));p&&v.log("Sending outcomes:",t);const e=(n=t,qt((s=this._options.tunnel&&Lt(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:r||q(),discarded_events:n}]]));var n,s,r;this.sendEnvelope(e)}}function Oe(t){return void 0===t.type}function Ce(t){return"transaction"===t.type}function Pe(t,e){!0===e.debug&&(p?v.enable():y((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));_t().update(e.initialScope);const n=new t(e);return function(t){_t().setClient(t)}(n),n.init(),n}function Ne(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(s){if(!(void 0===t||e.length<t))return Q(new Te("Not adding Promise because buffer limit was reached."));const r=s();return-1===e.indexOf(r)&&e.push(r),r.then((()=>n(r))).then(null,(()=>n(r).then(null,(()=>{})))),r},drain:function(t){return new Z(((n,s)=>{let r=e.length;if(!r)return n(!0);const i=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{X(t).then((()=>{--r||(clearTimeout(i),n(!0))}),s)}))}))}}}function je(t,{statusCode:e,headers:n},s=Date.now()){const r=a({},t),i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[t,e,,,n]=a.split(":",5),i=parseInt(t,10),o=1e3*(isNaN(i)?60:i);if(e)for(const a of e.split(";"))"metric_bucket"===a&&n&&!n.split(";").includes("custom")||(r[a]=s+o);else r.all=s+o}else o?r.all=s+function(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const s=Date.parse(`${t}`);return isNaN(s)?6e4:s-e}(o,s):429===e&&(r.all=s+6e4);return r}function Re(t,e,n=Ne(t.bufferSize||64)){let s={};return{send:function(r){const i=[];if(Wt(r,((e,n)=>{const r=Vt(n);if(function(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}(s,r)){const s=$e(e,n);t.recordDroppedEvent("ratelimit_backoff",r,s)}else i.push(e)})),0===i.length)return X({});const o=qt(r[0],i),a=e=>{Wt(o,((n,s)=>{const r=$e(n,s);t.recordDroppedEvent(e,Vt(s),r)}))};return n.add((()=>e({body:zt(o)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&p&&v.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),s=je(s,t),t)),(t=>{throw a("network_error"),t})))).then((t=>t),(t=>{if(t instanceof Te)return p&&v.error("Skipped sending event because buffer is full."),a("queue_overflow"),X({});throw t}))},flush:t=>n.drain(t)}}function $e(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}const De=100;function Me(t,e){const n=bt(),s=yt();if(!n)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:i=De}=n.getOptions();if(i<=0)return;const o=q(),c=a({timestamp:o},t),u=r?y((()=>r(c,e))):c;null!==u&&(n.emit&&n.emit("beforeAddBreadcrumb",u,e),s.addBreadcrumb(u,i))}let Ae;const Le=new WeakMap,Ue=()=>({name:"FunctionToString",setupOnce(){Ae=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=this.__sentry_original__;const n=Le.has(bt())&&void 0!==e?e:this;return Ae.apply(n,t)}}catch(t){}},setup(t){Le.set(t,!0)}}),He=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Fe=(t={})=>({name:"InboundFilters",processEvent(e,n,s){const r=s.getOptions(),i=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:He],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(t,r);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(e){}return!1}(t))return p&&v.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${z(t)}`),!0;if(function(t,e){if(t.type||!e||!e.length)return!1;return function(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch(s){}n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`));return e}(t).some((t=>M(t,e)))}(t,e.ignoreErrors))return p&&v.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${z(t)}`),!0;if(function(t){if(t.type)return!1;if(!t.exception||!t.exception.values||0===t.exception.values.length)return!1;return!t.message&&!t.exception.values.some((t=>t.stacktrace||t.type&&"Error"!==t.type||t.value))}(t))return p&&v.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${z(t)}`),!0;if(function(t,e){if("transaction"!==t.type||!e||!e.length)return!1;const n=t.transaction;return!!n&&M(n,e)}(t,e.ignoreTransactions))return p&&v.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${z(t)}`),!0;if(function(t,e){if(!e||!e.length)return!1;const n=Ge(t);return!!n&&M(n,e)}(t,e.denyUrls))return p&&v.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${z(t)}.\nUrl: ${Ge(t)}`),!0;if(!function(t,e){if(!e||!e.length)return!0;const n=Ge(t);return!n||M(n,e)}(t,e.allowUrls))return p&&v.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${z(t)}.\nUrl: ${Ge(t)}`),!0;return!1}(e,i)?null:e}});function Ge(t){try{let n;try{n=t.exception.values[0].stacktrace.frames}catch(e){}return n?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch(n){return p&&v.error(`Cannot extract url for event ${z(t)}`),null}}const qe=function(){return{bindClient(t){_t().setClient(t)},withScope:vt,getClient:()=>bt(),getScope:_t,getIsolationScope:yt,captureException:(t,e)=>_t().captureException(t,e),captureMessage:(t,e,n)=>_t().captureMessage(t,e,n),captureEvent:le,addBreadcrumb:Me,setUser:ge,setTags:fe,setTag:me,setExtra:he,setExtras:de,setContext:pe,getIntegration(t){const e=bt();return e&&e.getIntegrationByName(t.id)||null},startSession:ve,endSession:be,captureSession(t){if(t)return be();!function(){const t=_t(),e=bt(),n=t.getSession();e&&n&&e.captureSession(n)}()}}};const Be=h,We=function(t){return T(t,"DOMError")},Je=function(t){return T(t,"DOMException")},ze=w,Ke=function(t){return T(t,"ErrorEvent")},Ye=C,Ve=O,Xe=v,Qe=K,Ze=function(t,e,n){const s=t.exception=t.exception||{},r=s.values=s.values||[],i=r[0]=r[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")},tn=W,en=Ft,nn=function t(e,n=3,s=102400){const r=Ft(e,n);return i=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(i))>s?t(e,n-1,s):r;var i},sn=F,rn=function(t,e=40){const n=Object.keys(L(t));n.sort();const s=n[0];if(!s)return"[object has no keys]";if(s.length>=e)return $(s,e);for(let r=n.length;r>0;r--){const t=n.slice(0,r).join(", ");if(!(t.length>e))return r===n.length?t:$(t,e)}return""},on=function(t,e,n){if(!(e in t))return;const s=t[e],r=n(s);"function"==typeof r&&function(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,A(t,"__sentry_original__",e)}catch(n){}}(r,s);try{t[e]=r}catch(i){m&&v.log(`Failed to replace method "${e}" in object`,t)}},an=Z,cn=X,un=q,ln="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,pn="finishReason",dn=["heartbeatFailed","idleTimeout","documentHidden"];let hn;function fn(t){hn=t}function mn(t){return t/1e3}class gn{constructor(t=1e3){this.spans=[],this._maxlen=t}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class _n{constructor(t){var e,n,s,r,i,o,c,u,l,p,d,h,f;if(this.name="",this.traceId=tn(),this.spanId=tn().substring(16),this.startTimestamp=un(),this.tags={},this.data={},this.attributes={},this.instrumenter="sentry",!t)return this;this.traceId=null!=(e=t.traceId)?e:this.traceId,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.parentSpanId=null!=(s=t.parentSpanId)?s:this.parentSpanId,"sampled"in t&&(this.sampled=t.sampled),this.op=null!=(r=t.op)?r:this.op,this.description=null!=(o=null!=(i=t.description)?i:t.name)?o:this.description,this.name=null!=(u=null!=(c=t.name)?c:t.description)?u:this.name,this.data=t.data?a({},t.data):this.data,this.tags=t.tags?a({},t.tags):this.tags,this.attributes=t.attributes?a({},t.attributes):this.attributes,this.status=null!=(l=t.status)?l:this.status,this.startTimestamp=null!=(p=t.startTimestamp)?p:this.startTimestamp,this.endTimestamp=null!=(d=t.endTimestamp)?d:this.endTimestamp,this.instrumenter=null!=(h=t.instrumenter)?h:this.instrumenter,this.origin=null!=(f=t.origin)?f:this.origin}child(t){return this.startChild(t)}startChild(t){var e;const n=new _n(c(a({},t),{parentSpanId:this.spanId,sampled:this.sampled,attributes:null!=(e=null==t?void 0:t.attributes)?e:{},instrumenter:this.instrumenter,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n}setTag(t,e){return this.tags=c(a({},this.tags),{[t]:e}),this}setData(t,e){return this.data=c(a({},this.data),{[t]:e}),this}setAttribute(t,e){return void 0===e?delete this.attributes[t]:this.attributes[t]=e,this}setAttributes(t){return Object.keys(t).forEach((e=>this.setAttribute(e,t[e]))),this}setStatus(t){var e;return this.status="string"==typeof t?t:null!=(e=t.message)?e:t.code,this}setHttpStatus(t){this.setTag("http.status_code",String(t));const e=function(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);return"unknown_error"!==e&&this.setStatus(e),this}addEvent(t,e,n){return this}addLink(t){return this}addLinks(t){return this}recordException(t){}isSuccess(){return"ok"===this.status}setName(t){this.name=t,this.description=t}updateName(t){return this.setName(t),this}end(t){this.finish(function(t){if(void 0===t)return un();if(Array.isArray(t)&&2===t.length){const[e,n]=t;return e+n/1e9}if(t instanceof Date)return t.getTime()/1e3;if("number"==typeof t)return t>1e12?mn(t):t;return un()}(t))}finish(t){this.endTimestamp="number"==typeof t?t:un()}toTraceparent(){let t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${t}`}toContext(){return sn({data:this.data,description:this.description,attributes:this.attributes,name:this.name,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:"number"==typeof this.status?String(this.status):this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){var e,n,s,r,i,o,a,c,u;return this.data=null!=(e=t.data)?e:{},this.description=null!=(n=t.description)?n:t.name,this.name=null!=(r=null!=(s=t.name)?s:t.description)?r:this.name,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(i=t.spanId)?i:this.spanId,this.startTimestamp=null!=(o=t.startTimestamp)?o:this.startTimestamp,this.status=t.status,this.tags=null!=(a=t.tags)?a:{},this.attributes=null!=(c=t.attributes)?c:this.attributes,this.traceId=null!=(u=t.traceId)?u:this.traceId,this}getTraceContext(){return sn({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:"number"==typeof this.status?String(this.status):this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return sn({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:"number"==typeof this.status?String(this.status):this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,attributes:Object.keys(this.attributes).length>0?this.attributes:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}spanContext(){return{traceId:this.traceId,spanId:this.spanId,traceFlags:this.sampled?1:0}}isRecording(){return!1!==this.sampled&&void 0===this.endTimestamp}}class yn extends _n{constructor(t){super(t),this._measurements={},this._contexts={},this.name=t.name||"",this.metadata=a({source:"custom",spanMetadata:{}},t.metadata),this._trimEnd=t.trimEnd,this.transaction=this}setName(t){this.name=t}setContext(t,e){this._contexts[t]=e}setMeasurement(t,e,n=""){this._measurements[t]={value:e,unit:n}}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new gn(t)),this.spanRecorder.add(this)}setMeasurements(t){this._measurements=a({},t)}setMetadata(t){this.metadata=a(a({},this.metadata),t)}getDynamicSamplingContext(){var t;return(null==(t=this.metadata)?void 0:t.dynamicSamplingContext)||{}}getProfileId(){}finish(t){if(void 0!==this.endTimestamp)return;if(this.name||(ln&&Xe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t),!0!==this.sampled)return void(ln&&Xe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."));const e=this.spanRecorder?this.spanRecorder.spans.filter((t=>t!==this&&t.endTimestamp)):[],n=e.map((t=>t.toJSON()));this._trimEnd&&e.length>0&&(this.endTimestamp=e.reduce(((t,e)=>t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t)).endTimestamp);const s={contexts:a({trace:this.getTraceContext()},this._contexts),spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata};return Object.keys(this._measurements).length>0&&(ln&&Xe.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),ln&&Xe.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),le(s)}toContext(){const t=super.toContext();return sn(c(a({},t),{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(t){var e;return super.updateWithContext(t),this.name=null!=(e=t.name)?e:"",this._trimEnd=t.trimEnd,this}}class vn extends gn{constructor(t,e,n="",s){super(s),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=n}add(t){t.spanId!==this.transactionSpanId&&(t.finish=e=>{t.endTimestamp="number"==typeof e?e:un(),this._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),super.add(t)}}class bn extends yn{constructor(t,e=1e3,n=!1){super(t),this._idleTimeout=e,this._onScope=n,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._beforeFinishCallbacks=[],n&&(ln&&Xe.log(`Setting idle transaction as active. Span ID: ${this.spanId}`),fn(this)),this._initTimeout=setTimeout((()=>{this._finished||this.finish()}),this._idleTimeout)}finish(t=un()){if(this._finished=!0,this.activities={},this.spanRecorder){ln&&Xe.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanId===this.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus("cancelled"),ln&&Xe.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const n=e.startTimestamp<t;return n||ln&&Xe.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),ln&&Xe.log("[Tracing] flushing IdleTransaction")}else ln&&Xe.log("[Tracing] No active IdleTransaction");return this._onScope&&fn(void 0),super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const e=t=>{this._finished||this._pushActivity(t)},n=t=>{this._finished||this._popActivity(t)};this.spanRecorder=new vn(e,n,this.spanId,t),ln&&Xe.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_pushActivity(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),ln&&Xe.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,ln&&Xe.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(ln&&Xe.log(`[Tracing] popActivity ${t}`),delete this.activities[t],ln&&Xe.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const t=this._idleTimeout,e=un()+t/1e3;setTimeout((()=>{this._finished||(this.setTag(pn,dn[1]),this.finish(e))}),t)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(ln&&Xe.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.setTag(pn,dn[0]),this.finish()):this._pingHeartbeat()}_pingHeartbeat(){ln&&Xe.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),5e3)}}function Sn(t,e,n){if(!function(t){const e=bt(),n=t||e&&e.getOptions&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}(e))return t.sampled=!1,t;if(void 0!==t.sampled)return t;let s;return s="function"==typeof e.tracesSampler?e.tracesSampler(n):void 0!==n.parentSampled?n.parentSampled:e.tracesSampleRate,function(t){if(Number.isNaN(t)||"number"!=typeof t&&"boolean"!=typeof t)return ln&&Xe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1;if(t<0||t>1)return ln&&Xe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1;return!0}(s)?s?(t.sampled=Math.random()<s,t.sampled?(ln&&Xe.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):(ln&&Xe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),t)):(ln&&Xe.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(ln&&Xe.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}const En="sentry.javascript.miniapp",xn="0.12.1",wn="?",Tn=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,kn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,In=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,On=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Cn=/\((\S*)(?::(\d+))(?::(\d+))\)/,Pn=/^\s*at (.*?) ?\((\S*):(\d+):(\d+)\)/i;function Nn(t){let e=null;const n=t&&t.framesToPop;try{if(e=function(t){if(!t||!t.stacktrace)return null;const e=t.stacktrace,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,s=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,r=e.split("\n"),i=[];let o;for(let a=0;a<r.length;a+=2){let t=null;(o=n.exec(r[a]))?t={url:o[2],func:o[3],args:[],line:+o[1],column:null}:(o=s.exec(r[a]))&&(t={url:o[6],func:o[3]||o[4],args:o[5]?o[5].split(","):[],line:+o[1],column:+o[2]}),t&&(!t.func&&t.line&&(t.func=wn),i.push(t))}if(!i.length)return null;return{message:Rn(t),name:t.name,stack:i}}(t),e)return jn(e,n)}catch(s){}try{if(e=function(t){if(!t||!t.stack)return null;const e=[],n=t.stack.split("\n");let s,r,i,o;for(let a=0;a<n.length;++a){if(i=Tn.exec(n[a])){const t=i[2]&&0===i[2].indexOf("native");s=i[2]&&0===i[2].indexOf("eval"),s&&(r=Cn.exec(i[2]))&&(i[2]=r[1],i[3]=r[2],i[4]=r[3]),o={url:i[2],func:i[1]||wn,args:t?[i[2]]:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null}}else if(i=In.exec(n[a]))o={url:i[2],func:i[1]||wn,args:[],line:+i[3],column:i[4]?+i[4]:null};else if(i=kn.exec(n[a]))s=i[3]&&i[3].indexOf(" > eval")>-1,s&&(r=On.exec(i[3]))?(i[1]=i[1]||"eval",i[3]=r[1],i[4]=r[2],i[5]=""):0!==a||i[5]||void 0===t.columnNumber||(e[0].column=t.columnNumber+1),o={url:i[3],func:i[1]||wn,args:i[2]?i[2].split(","):[],line:i[4]?+i[4]:null,column:i[5]?+i[5]:null};else{if(!(i=Pn.exec(n[a])))continue;o={url:i[2],func:i[1]||wn,args:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null}}!o.func&&o.line&&(o.func=wn),e.push(o)}if(!e.length)return null;return{message:Rn(t),name:t.name,stack:e}}(t),e)return jn(e,n)}catch(s){}return{message:Rn(t),name:t&&t.name,stack:[],failed:!0}}function jn(t,e){try{return c(a({},t),{stack:t.stack.slice(e)})}catch(n){return t}}function Rn(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function $n(t){const e=Mn(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Dn(t){return{exception:{values:[$n(t)]}}}function Mn(t){if(!t||!t.length)return[];let e=t;const n=e[0].func||"",s=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==s.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.map((t=>({colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}))).slice(0,100).reverse()}function An(t,e,n={}){let s;if(Ke(t)&&t.error){return s=Dn(Nn(t=t.error)),s}if(We(t)||Je(t)){const r=t,i=r.name||(We(r)?"DOMError":"DOMException"),o=r.message?`${i}: ${r.message}`:i;return s=Ln(o,e,n),Ze(s,o),s}if(ze(t))return s=Dn(Nn(t)),s;if(Ve(t)||Ye(t)){return s=function(t,e,n){const s={exception:{values:[{type:Ye(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:`Non-Error ${n?"promise rejection":"exception"} captured with keys: ${rn(t)}`}]},extra:{__serialized__:nn(t)}};if(e){const t=Mn(Nn(e).stack);s.stacktrace={frames:t}}return s}(t,e,n.rejection),Qe(s,{synthetic:!0}),s}return s=Ln(t,e,n),Ze(s,`${t}`,void 0),Qe(s,{synthetic:!0}),s}function Ln(t,e,n={}){const s={message:t};if(n.attachStacktrace&&e){const t=Mn(Nn(e).stack);s.stacktrace={frames:t}}return s}const Un=(()=>{let t={request:()=>{},httpRequest:()=>{},getSystemInfoSync:()=>{},getPerformance:()=>({}),onAppHide:function(t){},canIUse:function(t){return!1}};if("object"==typeof wx)t=wx;else if("object"==typeof my)t=my;else if("object"==typeof tt)t=tt;else if("object"==typeof dd)t=dd;else if("object"==typeof qq)t=qq;else{if("object"!=typeof swan)throw new Error("sentry-miniapp ");t=swan}return t})(),Hn=(()=>{let t="unknown";return"object"==typeof wx?t="wechat":"object"==typeof my?t="alipay":"object"==typeof tt?t="bytedance":"object"==typeof dd?t="dingtalk":"object"==typeof qq?t="qq":"object"==typeof swan&&(t="swan"),t})();function Fn(t){return Re(t,(function(e){return new an(((n,s)=>{const r=Un.request||Un.httpRequest;"function"==typeof r?r({url:t.url,method:"POST",data:e.body,header:{"content-type":"application/json"},success(t){var e,s,r,i;n({statusCode:null==t?void 0:t.statusCode,headers:{"x-sentry-rate-limits":null!=(s=null==(e=null==t?void 0:t.headers)?void 0:e["X-Sentry-Rate-Limits"])?s:null,"retry-after":null!=(i=null==(r=null==t?void 0:t.headers)?void 0:r["Retry-After"])?i:null}})},fail(t){s(t)}}):s(new Error("Miniapp request function is not available"))}))}))}const Gn=Object.freeze(Object.defineProperty({__proto__:null,makeMiniappTransport:Fn},Symbol.toStringTag,{value:"Module"})),qn=()=>[];class Bn extends Ie{constructor(t={}){const e=t.transport||Fn,n=t.stackParser||qn,s=t.integrations||t.defaultIntegrations||[],r=c(a({},t),{transport:e,stackParser:n,integrations:s,dsn:t.dsn,tracesSampleRate:t.tracesSampleRate});!function(t,e,n=[e],s="npm"){const r=t._metadata||{};r.sdk||(r.sdk={name:`sentry.javascript.${e}`,packages:n.map((t=>({name:`${s}:@sentry/${t}`,version:d}))),version:d}),t._metadata=r}(r,"miniapp",["miniapp"]),super(r)}_prepareEvent(t,e,n,s){return t.platform=t.platform||"javascript",t.sdk=c(a({},t.sdk),{name:En,packages:[...t.sdk&&t.sdk.packages||[],{name:"npm:@sentry/miniapp",version:xn}],version:xn}),super._prepareEvent(t,e,n,s)}showReportDialog(t={}){console.log("sentry-miniapp ",t)}eventFromException(t,e){const n=An(t,e&&e.syntheticException?e.syntheticException:void 0,{attachStacktrace:this._options.attachStacktrace});return e&&e.event_id&&(n.event_id=e.event_id),Promise.resolve(n)}eventFromMessage(t,e="info",n){const s=n&&n.syntheticException?n.syntheticException:void 0,r=Ln(String(t),s,{attachStacktrace:this._options.attachStacktrace});return r.level=e,n&&n.event_id&&(r.event_id=n.event_id),Promise.resolve(r)}}function Wn(t,e={},n){if("function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(r){return t}const s=function(){const n=Array.prototype.slice.call(arguments);try{const s=n.map((t=>Wn(t,e)));return t.handleEvent?t.handleEvent.apply(this,s):t.apply(this,s)}catch(s){throw setTimeout((()=>{})),vt((t=>{t.addEventProcessor((t=>{const s=a({},t);return e.mechanism&&(Ze(s,void 0,void 0),Qe(s,e.mechanism)),s.extra=c(a({},s.extra),{arguments:en(n,3)}),s})),ue(s)})),s}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e])}catch(i){}t.prototype=t.prototype||{},s.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:s}),Object.defineProperties(s,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get:()=>t.name})}catch(i){}return s}const Jn=class t{constructor(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._onPageNotFoundHandlerInstalled=!1,this._onMemoryWarningHandlerInstalled=!1,this._options=a({onerror:!0,onunhandledrejection:!0,onpagenotfound:!0,onmemorywarning:!0},e)}setupOnce(){Error.stackTraceLimit=50,this._options.onerror&&(Xe.log("Global Handler attached: onError"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Xe.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler()),this._options.onpagenotfound&&(Xe.log("Global Handler attached: onPageNotFound"),this._installGlobalOnPageNotFoundHandler()),this._options.onmemorywarning&&(Xe.log("Global Handler attached: onMemoryWarning"),this._installGlobalOnMemoryWarningHandler())}_installGlobalOnErrorHandler(){if(!this._onErrorHandlerInstalled){if(Un.onError){const t=qe();Un.onError((e=>{const n="string"==typeof e?new Error(e):e;t.captureException(n)}))}this._onErrorHandlerInstalled=!0}}_installGlobalOnUnhandledRejectionHandler(){if(!this._onUnhandledRejectionHandlerInstalled){if(Un.onUnhandledRejection){const t=qe();Un.onUnhandledRejection((({reason:e,promise:n})=>{const s="string"==typeof e?new Error(e):e;t.captureException(s,{data:n})}))}this._onUnhandledRejectionHandlerInstalled=!0}}_installGlobalOnPageNotFoundHandler(){if(!this._onPageNotFoundHandlerInstalled){if(Un.onPageNotFound){const t=qe();Un.onPageNotFound((e=>{const n=e.path.split("?")[0];t.setTag("pagenotfound",n),t.setExtra("message",JSON.stringify(e)),t.captureMessage(`: ${n}`)}))}this._onPageNotFoundHandlerInstalled=!0}}_installGlobalOnMemoryWarningHandler(){if(!this._onMemoryWarningHandlerInstalled){if(Un.onMemoryWarning){const t=qe();Un.onMemoryWarning((({level:e=-1})=>{let n="";switch(e){case 5:n="TRIM_MEMORY_RUNNING_MODERATE";break;case 10:n="TRIM_MEMORY_RUNNING_LOW";break;case 15:n="TRIM_MEMORY_RUNNING_CRITICAL";break;default:return}t.setTag("memory-warning",String(e)),t.setExtra("message",n),t.captureMessage("")}))}this._onMemoryWarningHandlerInstalled=!0}}};Jn.id="GlobalHandlers";let zn=Jn;const Kn=class t{constructor(){this._ignoreOnError=0,this.name=t.id}_wrapTimeFunction(t){return function(...e){const n=e[0];return e[0]=Wn(n,{mechanism:{data:{function:Vn(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}_wrapRAF(t){return function(e){return t(Wn(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Vn(t)},handled:!0,type:"instrument"}}))}}_wrapEventTarget(t){const e=Be,n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(on(n,"addEventListener",(function(e){return function(n,s,r){try{"function"==typeof s.handleEvent&&(s.handleEvent=Wn(s.handleEvent.bind(s),{mechanism:{data:{function:"handleEvent",handler:Vn(s),target:t},handled:!0,type:"instrument"}}))}catch(i){}return e.call(this,n,Wn(s,{mechanism:{data:{function:"addEventListener",handler:Vn(s),target:t},handled:!0,type:"instrument"}}),r)}})),on(n,"removeEventListener",(function(t){return function(e,n,s){let r=n;try{r=r&&(r.__sentry_wrapped__||r)}catch(i){}return t.call(this,e,r,s)}})))}setupOnce(){this._ignoreOnError=this._ignoreOnError;const t=Be;on(t,"setTimeout",this._wrapTimeFunction.bind(this)),on(t,"setInterval",this._wrapTimeFunction.bind(this)),on(t,"requestAnimationFrame",this._wrapRAF.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))}};Kn.id="TryCatch";let Yn=Kn;function Vn(t){try{return t&&t.name||"<anonymous>"}catch(e){return"<anonymous>"}}const Xn=class t{constructor(e={}){this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){ye(((e,n)=>{const s=qe().getIntegration(t);return s?s._handler(e,n):e}))}_handler(t,e){if(!(t.exception&&t.exception.values&&e&&e.originalException instanceof Error))return t;const n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=[...n,...t.exception.values],t}_walkErrorTree(t,e,n=[]){if(!(t[e]instanceof Error)||n.length+1>=this._limit)return n;const s=$n(Nn(t[e]));return this._walkErrorTree(t[e],e,[s,...n])}};Xn.id="LinkedErrors";let Qn=Xn;const Zn=class t{constructor(){this.name=t.id}setupOnce(){ye((e=>{const n=qe();if(n.getIntegration(t))try{const t=Un.getSystemInfoSync(),{SDKVersion:s="0.0.0",batteryLevel:r,currentBattery:i,battery:o,brand:u,language:l,model:p,pixelRatio:d,platform:h,screenHeight:f,screenWidth:m,system:g,version:_,app:y,appName:v}=t,[b,S]=g.split(" ");n.setTag("SDKVersion",s);const E=y||v||Hn||"app";return c(a({},e),{contexts:c(a({},e.contexts),{device:{brand:u,battery_level:r||i||o,model:p,language:l,platform:h,screen_dpi:d,screen_height:f,screen_width:m},os:{name:b||g,version:S||g},browser:{name:E,version:_}})})}catch(s){console.warn(`sentry-miniapp get system info fail: ${s}`)}return e}))}};Zn.id="System";let ts=Zn;const es=class t{constructor(e){this.name=t.id,this._options=a({enable:!0},e)}setupOnce(){ye((e=>{if(qe().getIntegration(t)&&this._options.enable)try{const t=getCurrentPages().map((t=>({route:t.route,options:t.options})));return c(a({},e),{extra:c(a({},e.extra),{routers:t})})}catch(n){console.warn(`sentry-miniapp get router info fail: ${n}`)}return e}))}};es.id="Router";let ns=es;const ss=class t{constructor(){this.name=t.id}setupOnce(){ye((e=>{if(qe().getIntegration(t)&&"wechat"===Hn&&Un.getLaunchOptionsSync){if(1129===Un.getLaunchOptionsSync().scene)return null}return e}))}};ss.id="IgnoreMpcrawlerErrors";let rs=ss;const is=Object.freeze(Object.defineProperty({__proto__:null,GlobalHandlers:zn,IgnoreMpcrawlerErrors:rs,LinkedErrors:Qn,Router:ns,System:ts,TryCatch:Yn},Symbol.toStringTag,{value:"Module"}));class os{constructor(t=!1){this._reportAllChanges=t,this._measurements={}}addPerformanceEntries(t){var e;const n=this._getPerformance();n&&(this._timeOrigin=this._getTimeOrigin(n,t),this._observer=null==(e=n.createObserver)?void 0:e.call(n,(e=>{var n;((null==(n=null==e?void 0:e.getEntries)?void 0:n.call(e))||[]).forEach((e=>this._handleEntry(t,e)))})),this._observer&&this._observer.observe({entryTypes:["navigation","render","script","loadPackage","resource"]}))}_getPerformance(){if(!Un.getPerformance)return;const t=Un.getPerformance();return t&&"function"==typeof t.createObserver?t:void 0}_getTimeOrigin(t,e){if("number"==typeof t.timeOrigin)return mn(t.timeOrigin);const n="function"==typeof t.now?t.now():void 0;return"number"==typeof n?mn(Date.now()-n):e.startTimestamp}_handleEntry(t,e){if(void 0!==t.endTimestamp)return void this._stopObserver();const n=this._toTimestamp(e.startTime,t.startTimestamp),o=this._toTimestamp(e.startTime+e.duration,t.startTimestamp);!function(t,e){var n=e,{startTimestamp:o}=n,c=((t,e)=>{var n={};for(var o in t)r.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&s)for(var o of s(t))e.indexOf(o)<0&&i.call(t,o)&&(n[o]=t[o]);return n})(n,["startTimestamp"]);o&&t.startTimestamp>o&&(t.startTimestamp=o);t.startChild(a({startTimestamp:o},c))}(t,{op:this._mapOp(e),description:this._getDescription(e),startTimestamp:n,endTimestamp:o,data:this._buildSpanData(e)}),this._recordMeasurements(e,t,n),t.setTag("sentry_reportAllChanges",this._reportAllChanges),Object.keys(this._measurements).length>0&&t.setMeasurements(this._measurements)}_mapOp(t){switch(t.entryType){case"navigation":return"navigation";case"render":return"ui.render";case"script":return"script";case"loadPackage":return"resource.package";case"resource":return"resource";default:return t.entryType||"custom"}}_getDescription(t){return t.path||t.moduleName||t.name}_buildSpanData(t){const e={entryType:t.entryType};return t.moduleName&&(e.moduleName=t.moduleName),t.path&&(e.path=t.path),"number"==typeof t.duration&&(e.duration=t.duration),e}_recordMeasurements(t,e,n){const s=(t.name||"").toLowerCase(),r=t.duration,i=Math.max(1e3*(n-e.startTimestamp),0);if("first-paint"===s||"firstpaint"===s?this._measurements.fp={value:i,unit:"millisecond"}:"first-contentful-paint"===s||"firstcontentfulpaint"===s?this._measurements.fcp={value:i,unit:"millisecond"}:"largest-contentful-paint"===s||"largestcontentfulpaint"===s||"lcp"===s?this._measurements.lcp={value:i,unit:"millisecond"}:"first-input-delay"!==s&&"firstinputdelay"!==s&&"fid"!==s||"number"!=typeof r?"navigation"!==t.entryType||"number"!=typeof r||this._measurements.navigation||(this._measurements.navigation={value:r,unit:"millisecond"}):this._measurements.fid={value:r,unit:"millisecond"},this._reportAllChanges&&"number"==typeof r){const e=this._measurementKey(t);e&&!this._measurements[e]&&(this._measurements[e]={value:r,unit:"millisecond"})}}_measurementKey(t){const e=t.name||t.entryType;if(e)return e.replace(/\s+/g,"_").toLowerCase()}_toTimestamp(t,e){var n;if(t>1e12)return mn(t);return(null!=(n=this._timeOrigin)?n:e)+mn(t)}_stopObserver(t){var e;null==(e=this._observer)||e.disconnect(),this._observer=void 0,t&&!t.endTimestamp&&t.finish()}}const as=a({idleTimeout:5e3,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e=!0,n=!0){const s=Be,r=Un.onAppRoute||s.wx&&s.wx.onAppRoute;if("function"!=typeof r)return;let i,o=!1;const a=(s,r=!1)=>{const o=(null==s?void 0:s.path)||(null==s?void 0:s.route)||(null==s?void 0:s.url)||"",a="string"==typeof o&&o.length>0?o:"unknown-route";((s,r)=>{(r&&e||!r&&n)&&(i&&"function"==typeof i.finish&&i.finish(),i=t(s))})({name:a,op:"navigation",description:(null==s?void 0:s.openType)||(null==s?void 0:s.event)||void 0,metadata:{requestPath:a}},r)};if(e&&"function"==typeof s.getCurrentPages){const t=s.getCurrentPages()||[],e=t[t.length-1];e&&e.route&&(o=!0,a({path:e.route},!0))}r((t=>{const e=!o;o=!0,a(t,e)}))}},{traceRequest:!0}),cs=class t{constructor(e){this.name=t.id,this._configuredIdleTimeout=null==e?void 0:e.idleTimeout,this.options=a(a({},as),e);const{_metricOptions:n}=this.options;this._metrics=new os(n&&n._reportAllChanges)}setupOnce(){var t;const{routingInstrumentation:e,startTransactionOnLocationChange:n,startTransactionOnPageLoad:s}=this.options;e((t=>this._createRouteTransaction(t)),s,n),null==(t=Un.onAppHide)||t.call(Un,(()=>{null==hn||hn.finish()}))}_createRouteTransaction(t){var e;const{beforeNavigate:n,idleTimeout:s,maxTransactionDuration:r}=this.options,i=c(a({},t),{trimEnd:!0}),o="function"==typeof n?n(i):i;if(void 0===o)return;const u=function(t,e,n,s){const r=bt(),i=r&&r.getOptions&&r.getOptions()||{},o=t.name||t.op||"unknown-transaction",u=a({parentSampled:t.parentSampled,transactionContext:c(a({},t),{name:o}),name:o},s);let l=new bn(c(a({},t),{name:o}),e,n);if(l=Sn(l,i,u),l.sampled){const t=i._experiments&&i._experiments.maxSpans;l.initSpanRecorder(t),fn(l)}return l}(o,s,!0,{});return u.registerBeforeFinishCallback(((t,e)=>{var n;!function(t,e,n){const s=n-e.startTimestamp,r=n&&(s>t||s<0);r&&(e.setStatus("deadline_exceeded"),e.setTag("maxTransactionDurationExceeded","true"))}((n=r,1e3*n),t,e)})),u.setTag("idleTimeout",null!=(e=this._configuredIdleTimeout)?e:s),this._metrics.addPerformanceEntries(u),u}};cs.id="MiniAppTracing";let us=cs;const ls=[Fe(),Ue(),new Yn,new zn,new Qn,new ts,new ns,new rs,new us];exports.Integrations=is,exports.MiniappClient=Bn,exports.SDK_NAME=En,exports.SDK_VERSION=xn,exports.Transports=Gn,exports.addBreadcrumb=Me,exports.addEventProcessor=ye,exports.captureEvent=le,exports.captureException=ue,exports.captureMessage=function(t,e){const n="string"==typeof e?e:void 0,s="string"!=typeof e?{captureContext:e}:void 0;return _t().captureMessage(t,n,s)},exports.close=function(t){const e=qe().getClient();return e?e.close(t):cn(!1)},exports.configureScope=function(t){t(_t())},exports.defaultIntegrations=ls,exports.flush=function(t){const e=qe().getClient();return e?e.flush(t):cn(!1)},exports.getCurrentHub=qe,exports.getCurrentScope=_t,exports.init=function(t={}){void 0===t.defaultIntegrations&&(t.defaultIntegrations=ls),t.normalizeDepth=t.normalizeDepth||5;const e=a({integrations:t.integrations||t.defaultIntegrations||[],stackParser:t.stackParser||(()=>[]),transport:t.transport||Fn},t);Pe(Bn,e)},exports.lastEventId=function(){return _e()},exports.setContext=pe,exports.setExtra=he,exports.setExtras=de,exports.setTag=me,exports.setTags=fe,exports.setUser=ge,exports.showReportDialog=function(t={}){t.eventId||(t.eventId=_e());const e=qe().getClient();e&&e.showReportDialog(t)},exports.startTransaction=function(t,e){const n=bt(),s=n&&n.getOptions&&n.getOptions()||{},r=t.name||t.op||"unknown-transaction",i=a({parentSampled:t.parentSampled,transactionContext:c(a({},t),{name:r}),name:r},e);let o=new yn(c(a({},t),{name:r}));if(o=Sn(o,s,i),o.sampled){const t=s._experiments&&s._experiments.maxSpans;o.initSpanRecorder(t),fn(o)}return o},exports.withScope=vt,exports.wrap=function(t){return Wn(t)()};
