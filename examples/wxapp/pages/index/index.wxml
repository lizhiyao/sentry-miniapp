<!--index.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨è£…é¥°èƒŒæ™¯ -->
  <view class="bg-decoration"></view>
  
  <!-- å¤´éƒ¨åŒºåŸŸ -->
  <view class="header">
    <text class="title">Sentry å°ç¨‹åº SDK</text>
    <text class="subtitle">å®æ—¶é”™è¯¯ç›‘æ§ Â· æ€§èƒ½è¿½è¸ª Â· æ•°æ®åˆ†æ</text>
  </view>



  <!-- ç»Ÿè®¡æ•°æ®åŒºåŸŸ -->
  <view class="stats-section">
    <view class="stats-header">
      <text class="stats-title">ğŸ“Š ä½¿ç”¨ç»Ÿè®¡</text>
      <text class="stats-desc">npm åŒ…ä¸‹è½½æ•°æ® & GitHub æ•°æ®</text>
    </view>
    
    <view class="stats-grid">
      <view class="stat-item">
        <view class="stat-icon">ğŸ“¦</view>
        <view class="stat-content">
          <text class="stat-number">{{stats.totalDownloads || '--'}}</text>
          <text class="stat-label">æ€»ä¸‹è½½é‡</text>
        </view>
      </view>
      
      <view class="stat-item">
        <view class="stat-icon">ğŸ“…</view>
        <view class="stat-content">
          <text class="stat-number">{{stats.lastMonthDownloads || '--'}}</text>
          <text class="stat-label">æœ¬æœˆä¸‹è½½</text>
        </view>
      </view>
      
      <view class="stat-item">
        <view class="stat-icon">ğŸ”¥</view>
        <view class="stat-content">
          <text class="stat-number">{{stats.lastDayDownloads || '--'}}</text>
          <text class="stat-label">ä»Šæ—¥ä¸‹è½½</text>
        </view>
      </view>
      
      <view class="stat-item">
        <view class="stat-icon">â­</view>
        <view class="stat-content">
          <text class="stat-number">{{stats.githubStars || '--'}}</text>
          <text class="stat-label">GitHub Stars</text>
        </view>
      </view>
      
      <view class="stat-item">
        <view class="stat-icon">ğŸ´</view>
        <view class="stat-content">
          <text class="stat-number">{{stats.githubForks || '--'}}</text>
          <text class="stat-label">GitHub Forks</text>
        </view>
      </view>
      
      <view class="stat-item">
        <view class="stat-icon">ğŸ“ˆ</view>
        <view class="stat-content">
          <text class="stat-number">{{stats.version || 'v1.0.0'}}</text>
          <text class="stat-label">å½“å‰ç‰ˆæœ¬</text>
        </view>
      </view>
    </view>
    
    <view class="stats-footer">
      <text class="stats-update">æ•°æ®æ›´æ–°æ—¶é—´: {{stats.lastUpdate || 'åŠ è½½ä¸­...'}}</text>
      <button class="clear-cache-btn" bindtap="clearStatsCache" size="mini" type="default">æ¸…é™¤ç¼“å­˜</button>
    </view>
  </view>

  <!-- é€Ÿç‡é™åˆ¶ç›‘æ§åŒºåŸŸ -->
  <view class="rate-limit-section">
    <view class="rate-limit-header">
      <text class="rate-limit-title">ğŸš¦ API é€Ÿç‡é™åˆ¶ç›‘æ§</text>
      <text class="rate-limit-desc">GitHub API é…é¢ä½¿ç”¨æƒ…å†µ</text>
    </view>
    
    <view class="rate-limit-content">
      <view class="rate-limit-item">
        <view class="rate-limit-label">å‰©ä½™é…é¢</view>
        <view class="rate-limit-value {{rateLimitStatus.status === 'è­¦å‘Š' ? 'warning' : ''}}">
          {{rateLimitStatus.remaining || '--'}} / {{rateLimitStatus.limit || '--'}}
        </view>
      </view>
      
      <view class="rate-limit-item">
        <view class="rate-limit-label">ä½¿ç”¨ç‡</view>
        <view class="rate-limit-value">
          {{rateLimitStatus.percentage !== null ? rateLimitStatus.percentage + '%' : '--'}}
        </view>
      </view>
      
      <view class="rate-limit-item">
        <view class="rate-limit-label">çŠ¶æ€</view>
        <view class="rate-limit-status {{rateLimitStatus.status === 'è­¦å‘Š' ? 'warning' : 'normal'}}">
          {{rateLimitStatus.status}}
        </view>
      </view>
      
      <view class="rate-limit-item" wx:if="{{rateLimitStatus.resetTime}}">
        <view class="rate-limit-label">é‡ç½®æ—¶é—´</view>
        <view class="rate-limit-value small">
          {{rateLimitStatus.resetTime}}
        </view>
      </view>
    </view>
  </view>

</view>